{
  "hash": "739d45287c1d580c1e408e8cda1b25bf",
  "result": {
    "markdown": "---\ndate: \"2023-09-12\"\ndescription: Desafio 2 - CE303 – Visualização de Dados Aplicada \nsubtitle:  Raymundo Eduardo Pilz\ntitle: \"Gráfico de pirâmide populacional do Brasil\"\nimage: featured.png\ntitle-block-style: none\ntoc: false\ncategories: \n  - dataviz\n  - R\n---\n\n::: {.cell}\n\n:::\n\n\n\n### **UNIVERSIDADE FEDERAL DO PARANÁ**\n#### CE303 – VISUALIZAÇÃO DE DADOS APLICADA\nProfº Dr. Anderson Ara <br>\nAluno: GRR20233881 – Raymundo Eduardo Pilz <br>\n12/09/2023\n\n<br>\n\n::: {.callout-note icon=false appearance=\"simple\"}\n\n## DESAFIO 2\n\n<br>\n\nESCOLHA UM GRÁFICO NÃO USUAL, NÃO VISTO NO CURSO DE ESTATÍSTICA BÁSICA OU NÃO VISTO ATÉ O MOMENTO NO CURSO DE VISUALIZAÇÃO.\n\n* EM UMA FOLHA A4, FRENTE:\n  * CONSTRUA O GRÁFICO ESCOLHIDO ATRAVÉS DE PROCEDIMENTOS SIMPLES (SEM CRITÉRIOS DE VISULIZAÇÃO);\n  * CONSTRUA ESSE MESMO GRÁFICO COM CRITÉRIOS DE VISUALIZAÇÃO;\n  * TENTE EXPLICAR O MÁXIMO POSSÍVEL DOS DADOS, UTILIZANDO LEGENDAS, TÍTULOS E/OU SUBTÍTULOS.\n\n* NA MESMA FOLHA A4, VERSO:\n  * INSIRA OS CÓDIGOS E/OU PROCEDIMENTOS UTILIZADOS PARA CONSTRUÇÃO DE AMBOS OS GRÁFICOS;\n  * INSIRA SEU NOME E A DATA DA CONSTRUÇÃO.\n\n:::\n\n---\n\n## GRÁFICO NÃO-CONVENCIONAL\n\n- Gráfico de pirâmide populacional simples\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Carregando bibliotecas\nlibrary(ggplot2)\n\n\n# Dados extraídos de: https://www.populationpyramid.net/pt/brasil/2023/#google_vignette\n\nidade <- c('0-4', '5-9', '10-14', '15-19', '20-24', '25-29', '30-34', '35-39', '40-44', '45-49',\n           '50-54', '55-59', '60-64', '65-69', '70-74', '75-79', '80-84', '85-89', '90-94', '95-99', '100+')\n\nmasculino <- c(7048276, 7458718, 7571355, 7902645, 8388853, 8626910, 8573161, 8715312, 8275450, 7230207,\n                          6355937, 5736755, 4904223, 3748986, 2675453, 1653264, 944483, 350303, 72217, 8207, 396)\n\nfeminino <- c(6766804, 7165577, 7280500, 7624131, 8159904, 8465096, 8495865, 8753351, 8478260, 7571613,\n                        6814563, 6331430, 5625694, 4534686, 3467790, 2283019, 1459935, 677986, 193494, 29591, 2036)\n\n# Criando um data frame\ndados <- data.frame(idade, masculino, feminino)\n\n# Gráfico\ngrafico1 <- ggplot(dados, aes(x = idade)) +\n  geom_bar(aes(y = -masculino, fill = \"Masculino\"), stat = \"identity\", position = \"identity\") +\n  geom_bar(aes(y = feminino, fill = \"Feminino\"), stat = \"identity\", position = \"identity\") +\n  coord_flip()\n\ngrafico1\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n---\n\n## GRÁFICO CONVENCIONAL\n\n- Gráfico de pirâmide populacional (dados extraídos em: https://www.populationpyramid.net/pt/brasil/2023/#google_vignette)\n\n\n::: {.cell layout-align=\"center\" width='10'}\n\n```{.r .cell-code}\n# Carregando bibliotecas\nlibrary(ggplot2)\n\n# Dados extraídos de: https://www.populationpyramid.net/pt/brasil/2023/#google_vignette\nidade <- c('0-4', '5-9', '10-14', '15-19', '20-24', '25-29', '30-34', '35-39', '40-44', '45-49',\n           '50-54', '55-59', '60-64', '65-69', '70-74', '75-79', '80-84', '85-89', '90-94', '95-99', '100+')\n\nmasculino <- c(7048276, 7458718, 7571355, 7902645, 8388853, 8626910, 8573161, 8715312, 8275450, 7230207,\n                          6355937, 5736755, 4904223, 3748986, 2675453, 1653264, 944483, 350303, 72217, 8207, 396)\n\nfeminino <- c(6766804, 7165577, 7280500, 7624131, 8159904, 8465096, 8495865, 8753351, 8478260, 7571613,\n                        6814563, 6331430, 5625694, 4534686, 3467790, 2283019, 1459935, 677986, 193494, 29591, 2036)\n\n# Convertendo a população para milhões\nmasculino <- masculino / 1000000\nfeminino <- feminino / 1000000\n\n# Criando um data frame para armazenar os dados\ndados <- data.frame(idade, masculino, feminino)\n\n# Criando índice para ordenar o eixo x\ndados$indice <- 1:length(idade)\n\n# Manipulando eixo y, definindo intervalo de exibição do eixo y\nbrks = c(-10, -8, -6, -4, -2, 0, 2, 4, 6, 8, 10)\n\n# Criando o gráfico\ngrafico2 <- ggplot(dados, aes(x = reorder(idade,indice))) +\n  geom_bar(aes(y = -masculino, fill = \"Masculino\"), stat = \"identity\", position = \"identity\") + # com o sinal \"-\" para que essas informação apareçam no lado esquerdo do gráfico\n  geom_bar(aes(y = feminino, fill = \"Feminino\"), stat = \"identity\", position = \"identity\") + \n  scale_fill_manual(values = c(\"Masculino\" = \"darkblue\", \"Feminino\" = \"pink\"),\n                    breaks = c(\"Masculino\", \"Feminino\"), # ordem dos itens na legenda\n                    labels = c(\"Masculino\", \"Feminino\")) + # rótulos na legenda\n  labs(title = \"Pirâmide Populacional do Brasil\", # Título do grafico\n         x = \"Faixa Etária\", # eixo x, no final será invertido\n         y = \"População (em milhões)\", # eixo y, no final será invertido\n         fill = \"Sexo\") + \n  scale_y_continuous(breaks = brks, # inserindo o intervalo definido\n                     limits = c(-10, 10), # inserindo o limite do intervalo para que as colunas tenham o mesmo comprimento de ambos os lados\n                     labels = abs(brks)) + # Resolvendo o problema de valores negativos em masculino\n  theme_classic() + # inserindo tema para auxiliar na impressao do grafico\n  coord_flip() + # virando os eixos do gráfico, para transformar em um gráfico de piramide\n  theme(legend.position = c(0.9, 0.9), # Legenda no canto superior direito\n        plot.title = element_text(hjust = 0.5)) # Centraliza o título\n\ngrafico2\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){fig-align='center' width=672}\n:::\n:::\n\n\n---\n\nO presente trabalho foi desenvolvido na matéria do 2º período (2023) da disciplina de *CE303 – Visualização de Dados Aplicada*, ministrada pelo professor **Anderson Ara** pela Universidade Federal do Paraná (UFPR)",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}